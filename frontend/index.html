<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Podcaster - Create and Manage Your Audio Content</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header role="banner">
        <h1>The Podcaster</h1>
    </header>
    <nav role="navigation" aria-label="Main navigation">
        <!-- Explicitly set type="button" so the buttons never attempt to submit the surrounding page -->
        <button type="button" data-view="uploadView" aria-controls="uploadView">Upload Audio</button>
        <button type="button" data-view="jobsView" aria-controls="jobsView">View Jobs</button>
        <button type="button" data-view="libraryView" aria-controls="libraryView">Media Library</button>
        <button type="button" data-view="visualizationView" aria-controls="visualizationView">Visualizations</button>
    </nav>
    <main role="main">
        <section id="uploadView" class="view" aria-labelledby="uploadViewHeading" style="display:none;" aria-hidden="true">
            <h2 id="uploadViewHeading">Upload Audio Files</h2>
            <form id="uploadForm" aria-describedby="uploadFormDescription">
                <p id="uploadFormDescription" class="sr-only">Upload main, intro, and outro audio tracks for processing.</p>
                <div>
                    <label for="mainTrack">Main Track <span class="tooltip-trigger" data-tooltip="The primary audio content for your podcast episode. Allowed types: MP3, WAV." aria-label="Help for Main Track"><span aria-hidden="true">&#❓</span></span></label>
                    <input type="file" id="mainTrack" name="main_track" required aria-required="true" aria-describedby="mainTrackFeedback">
                    <div id="mainTrackFeedback" class="validation-feedback" aria-live="polite"></div>
                </div>
                <div>
                    <label for="introTrack">Intro Track (Optional) <span class="tooltip-trigger" data-tooltip="An optional audio file to be prepended to your main track. Allowed types: MP3, WAV." aria-label="Help for Intro Track"><span aria-hidden="true">&#❓</span></span></label>
                    <input type="file" id="introTrack" name="intro" aria-describedby="introTrackFeedback">
                    <div id="introTrackFeedback" class="validation-feedback" aria-live="polite"></div>
                </div>
                <div>
                    <label for="outroTrack">Outro Track (Optional) <span class="tooltip-trigger" data-tooltip="An optional audio file to be appended to your main track. Allowed types: MP3, WAV." aria-label="Help for Outro Track"><span aria-hidden="true">&#❓</span></span></label>
                    <input type="file" id="outroTrack" name="outro" aria-describedby="outroTrackFeedback">
                    <div id="outroTrackFeedback" class="validation-feedback" aria-live="polite"></div>
                </div>
                <button type="submit" id="submitUpload">Upload & Process</button>
            </form>
            <div id="uploadResponse" style="display:none;" aria-live="polite"></div>
        </section>

        <section id="jobsView" class="view" aria-labelledby="jobsViewHeading" style="display:none;" aria-hidden="true">
            <h2 id="jobsViewHeading">Current Jobs</h2>
            <div>
                <label for="jobIdInput">Fetch Specific Job ID (Optional) <span class="tooltip-trigger" data-tooltip="Enter a Job ID to fetch its details. Leave empty to fetch all recent jobs." aria-label="Help for Job ID input"><span aria-hidden="true">&#❓</span></span></label>
                <input type="text" id="jobIdInput" placeholder="Enter Job ID" aria-describedby="jobIdInputTooltip">
                <span id="jobIdInputTooltip" class="sr-only">Enter a Job ID to fetch its details. Leave empty to fetch all recent jobs.</span> 
            </div>
            <button id="refreshJobsBtn" aria-describedby="jobsListStatus">Refresh Jobs</button>
            <div id="jobsListStatus" class="sr-only" aria-live="polite">Job list will be updated.</div>
            <ul id="jobsList" aria-live="polite">
                <!-- Job items will be populated here by script.js -->
            </ul>
        </section>

        <section id="libraryView" class="view" aria-labelledby="libraryViewHeading" style="display:none;" aria-hidden="true">
            <h2 id="libraryViewHeading">Media Library (Processed Files)</h2>
            <button id="refreshLibraryBtn" aria-describedby="libraryListStatus">Refresh Library</button>
            <div id="libraryListStatus" class="sr-only" aria-live="polite">Library list will be updated.</div>
            <ul id="libraryList" aria-live="polite">
                <!-- Library items will be populated here by script.js -->
            </ul>
        </section>
        <section id="visualizationView" class="view" aria-labelledby="visualizationViewHeading" style="display:none;" aria-hidden="true">
            <h2 id="visualizationViewHeading">Visualizations</h2>
            <div>
                <label for="vizFileSelect">Select Media File <span class="tooltip-trigger" data-tooltip="Choose a processed file to visualize." aria-label="Help for Media File selection"><span aria-hidden="true">&#❓</span></span></label>
                <select id="vizFileSelect" aria-describedby="vizFileSelectFeedback">
                    <option value="">-- Loading files --</option>
                </select>
            </div>
            <fieldset>
                <legend>Select Visualization Type</legend>
                <div>
                    <input type="checkbox" id="vizWaveform" name="vizWaveform" value="waveform">
                    <label for="vizWaveform">Waveform Video</label>
                </div>
            </fieldset>
            <button id="processVizBtn">Process Visualization</button>
            <div id="vizResponse" style="display:none;" aria-live="polite"></div>
        </section>
    </main>
    <footer role="contentinfo">
        <p>&copy; 2024 The Podcaster</p>
    </footer>
    <script src="script.js"></script>
    <!-- Basic CSS for sr-only class -->
    <style>
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
    </style>
</body>
</html>
